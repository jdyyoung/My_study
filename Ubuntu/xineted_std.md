



Linux之Xinetd服务介绍_鹤啸九天-CSDN博客_xinetd - https://blog.csdn.net/lzghxjt/article/details/83018710

Xinetd服务的安装与配置 - lsgxeva - 博客园 - https://www.cnblogs.com/lsgxeva/p/9280777.html

S50xinetd

```shell
#!/bin/sh
#
# Start xinetd
#

if [ ! -e /skybell/config/xinetd.conf ];then
	cp /etc/xinetd-notelnet.conf /skybell/config/xinetd.conf
	sync
fi

start() {
	start-stop-daemon -q -S -p /var/run/xinetd.pid -x /usr/sbin/xinetd -- -pidfile 			/var/run/xinetd.pid
}

stop() {
	start-stop-daemon -q -K -p /var/run/xinetd.pid
}

case "$1" in
  start)
	start
	;;
  stop)
	stop
	;;
  restart|reload)
	stop
	start
	;;
  *)
	echo "Usage: $0 {start|stop|restart}"
	exit 1
esac

exit $?

```



xinetd.conf

```conf
# This file generated by xconv.pl, included with the xinetd
# package.  xconv.pl was written by Rob Braun (bbraun@synack.net)
#
# The file is merely a translation of your inetd.conf file into
# the equivalent in xinetd.conf syntax.  xinetd has many 
# features that may not be taken advantage of with this translation.
# Please refer to the xinetd.conf man page for more information 
# on how to properly configure xinetd.


# The defaults section sets some information for all services
defaults
{
	#The maximum number of requests a particular service may handle
	# at once.
	instances   = 25

	# The type of logging.  This logs to a file that is specified.
	# Another option is: SYSLOG syslog_facility [syslog_level]
	log_type    = FILE /var/log/servicelog

	# What to log when the connection succeeds.
	# PID logs the pid of the server processing the request.
	# HOST logs the remote host's ip address.
	# USERID logs the remote user (using RFC 1413)
	# EXIT logs the exit status of the server.
	# DURATION logs the duration of the session.
	log_on_success = HOST PID

	# What to log when the connection fails.  Same options as above
	log_on_failure = HOST

	# The maximum number of connections a specific IP address can
	# have to a specific service.  
	per_source  = 5
}

service ftp
{
	flags       = NAMEINARGS
	socket_type = stream
	protocol    = tcp
	wait        = no
	user        = root
	server      = /usr/sbin/ftpd
	server_args = ftpd 
}

service telnet
{
	flags       = NAMEINARGS
	socket_type = stream
	protocol    = tcp
	wait        = no
	user        = root
	server      = /skybell/config/net/telnetd
	server_args = telnetd 
}
```



